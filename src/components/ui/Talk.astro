---
const { talk } = Astro.props;

const dateOptions = {
  year: "numeric",
  month: "long",
  day: "numeric",
};
const date = new Date(talk.date).toLocaleDateString("fa-IR", dateOptions)
---

<div class="card">
  <img
    src={talk.thumbnail || 'assets/img/default-talk.jpg'}
    alt={talk.title}
    style={{
      width: '100%',
      height: '200px',
      objectFit: 'cover',
      borderRadius: 'var(--radius-sm)',
      marginBottom: 'var(--spacing-md)'
    }}
  />
  <div class="article-meta">
    <span>{talk.speaker}</span>
    <span>•</span>
    <span>{date}</span>
  </div>
  <h3 class="article-title">{talk.title}</h3>
  <p class="article-excerpt">{talk.description}</p>
  <div class="flex mt-md" style="justify-content: space-between">
    {talk.videoUrl && (
      <a href={talk.videoUrl} target="_blank" class="btn btn-small btn-primary">ویدیو</a>
    )}
    {talk.slideUrl && (
      <a href={talk.slideUrl} target="_blank" class="btn btn-small btn-secondary">اسلایدها</a>
    )}
  </div>
</div>
